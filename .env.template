# BrAve Forms Environment Configuration Template
# 
# INSTRUCTIONS:
# 1. Copy this file to .env.local
# 2. Replace all "REPLACE_WITH_YOUR_*" values with actual API keys
# 3. DO NOT commit .env.local to version control
#
# CRITICAL: The application requires Clerk and Weather API keys to function

#=============================================================================
# üîê REQUIRED API KEYS - APPLICATION WILL NOT START WITHOUT THESE
#=============================================================================

# Clerk Authentication (REQUIRED)
# Get these from: https://dashboard.clerk.dev/
# Navigate to: Your App > API Keys
CLERK_SECRET_KEY="YOUR_SECRET_KEY"
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="YOUR_PUBLISHABLE_KEY"

# Weather APIs (REQUIRED - At least one needed for EPA compliance)
# OpenWeatherMap (Free tier available): https://openweathermap.org/api
OPENWEATHER_API_KEY="REPLACE_WITH_YOUR_OPENWEATHER_API_KEY"

# NOAA API (Government API - free but requires approval): https://www.ncdc.noaa.gov/cdo-web/webservices/v2
NOAA_API_KEY="REPLACE_WITH_YOUR_NOAA_API_KEY"

#=============================================================================
# üíæ DATABASE & CACHE (Pre-configured for Kubernetes port-forwarding)
#=============================================================================

# PostgreSQL Database (port-forwarded from Kubernetes)
DATABASE_URL="postgresql://brave:CHANGE_ME_SECURE_PASSWORD@localhost:5433/brave_forms?schema=public"

# Redis Cache (port-forwarded from Kubernetes)  
REDIS_URL="redis://localhost:6380"
REDIS_PASSWORD=""

#=============================================================================
# üì± APPLICATION CONFIGURATION
#=============================================================================

# Environment
NODE_ENV="development"

# Server Ports
BACKEND_PORT="3002"
WEB_PORT="3003"
PORT="3002"

# API URLs
NEXT_PUBLIC_API_URL="http://localhost:3002/graphql"
NEXT_PUBLIC_APP_URL="http://localhost:3003"

#=============================================================================
# üìÇ FILE STORAGE (MinIO for local development)
#=============================================================================

# AWS S3 Configuration (Using MinIO locally)
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="minioadmin"
AWS_SECRET_ACCESS_KEY="minioadmin"
S3_BUCKET_NAME="brave-forms-photos"
S3_ENDPOINT="http://localhost:30900"

#=============================================================================
# üìß PUSH NOTIFICATIONS (Optional - Leave empty if not needed)
#=============================================================================

# Firebase Cloud Messaging (Android/Web push notifications)
FCM_SERVER_KEY="REPLACE_WITH_YOUR_FCM_SERVER_KEY"

# Apple Push Notification Service (iOS push notifications)
APNS_KEY_ID="REPLACE_WITH_YOUR_APNS_KEY_ID"
APNS_TEAM_ID="REPLACE_WITH_YOUR_APPLE_TEAM_ID"

#=============================================================================
# üìä MONITORING & ANALYTICS (Optional)
#=============================================================================

# Sentry Error Tracking
SENTRY_DSN="REPLACE_WITH_YOUR_SENTRY_DSN"

# Datadog Monitoring
DATADOG_API_KEY="REPLACE_WITH_YOUR_DATADOG_API_KEY"

#=============================================================================
# ‚öôÔ∏è FEATURE FLAGS
#=============================================================================

# Core Features
ENABLE_OFFLINE_MODE="true"
ENABLE_PUSH_NOTIFICATIONS="false"
ENABLE_WEATHER_MONITORING="true"
MAX_OFFLINE_DAYS="30"

# Development Features
ENABLE_DEBUG_LOGS="true"
ENABLE_TEST_DATA="true"
ENABLE_MOCK_WEATHER="false"

#=============================================================================
# üèõÔ∏è EPA COMPLIANCE SETTINGS (DO NOT CHANGE - REGULATORY REQUIREMENTS)
#=============================================================================

# EPA Clean Water Act - Construction General Permit Requirements
# These values are mandated by federal regulation and must be exact
EPA_RAIN_THRESHOLD_INCHES="0.25"    # EXACTLY 0.25" - not approximate
EPA_INSPECTION_HOURS="24"           # 24 hours during working hours
EPA_WORKING_HOURS_START="7"         # 7 AM start
EPA_WORKING_HOURS_END="17"          # 5 PM end

#=============================================================================
# üîß DEVELOPMENT TOOLS
#=============================================================================

# GraphQL
GRAPHQL_PLAYGROUND="true"
GRAPHQL_INTROSPECTION="true"

# Database
DATABASE_LOGGING="false"
DATABASE_SYNC="false"

# API Rate Limiting  
ENABLE_RATE_LIMITING="false"
RATE_LIMIT_REQUESTS_PER_MINUTE="100"

#=============================================================================
# üß™ TESTING CONFIGURATION
#=============================================================================

# Test Database (separate from development)
TEST_DATABASE_URL="postgresql://test:test@localhost:5432/brave_forms_test"
TEST_REDIS_URL="redis://localhost:6379/1"

# Test Feature Flags
DISABLE_EXTERNAL_APIS_IN_TESTS="true"
MOCK_CLERK_AUTH_IN_TESTS="true"
FAST_TEST_MODE="true"

#=============================================================================
# üöÄ PRODUCTION OVERRIDES (Only used when NODE_ENV=production)
#=============================================================================

# These are only examples - production values should be set via CI/CD
# CLERK_SECRET_KEY="sk_live_production_key_here"
# DATABASE_URL="postgresql://user:pass@prod-db:5432/brave_forms"
# REDIS_URL="redis://prod-redis:6379"
# S3_ENDPOINT=""  # Leave empty for real AWS S3

#=============================================================================
# ‚ö†Ô∏è SECURITY NOTES
#=============================================================================
#
# 1. NEVER commit this file with real API keys to version control
# 2. Use different API keys for development, staging, and production  
# 3. Rotate API keys regularly
# 4. Monitor API key usage for unauthorized access
# 5. Use environment-specific secrets management in production
#
# Remember: This platform prevents $25K-$50K daily EPA fines.
# Every configuration detail matters for regulatory compliance.
#=============================================================================